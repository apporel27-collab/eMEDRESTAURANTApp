@{
    ViewData["Title"] = "Home Page";
}

<div class="text-center">
    <h1 class="display-4">Welcome Restaurants</h1>
    <p>Learn about <a href="https://learn.microsoft.com/aspnet/core">building Web apps with ASP.NET Core</a>.</p>
</div>

<!-- Add jQuery FIRST, before other plugins -->
<script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
<link rel="stylesheet" href="https://code.jquery.com/ui/1.13.2/themes/base/jquery-ui.css">
<script src="https://code.jquery.com/ui/1.13.2/jquery-ui.min.js"></script>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/timepicker/1.3.5/jquery.timepicker.min.css">
<script src="https://cdnjs.cloudflare.com/ajax/libs/timepicker/1.3.5/jquery.timepicker.min.js"></script>

<link rel="stylesheet" href="https://cdn.datatables.net/1.13.6/css/jquery.dataTables.min.css">
<script src="https://cdn.datatables.net/1.13.6/js/jquery.dataTables.min.js"></script>

<style>
    .sidebar-menu {
        width: 250px;
        min-height: 100vh;
        background: #f8f9fa;
        padding: 20px 0 20px 0; /* Remove left padding */
        border-right: 1px solid #dee2e6;
        margin-left: -10px; /* Move slightly to the left */
    }
    .sidebar-menu .nav-link {
        color: #333;
        font-weight: 500;
        display: flex;
        align-items: center;
        justify-content: space-between;
    }
    .sidebar-menu .nav-link:hover {
        background: #e9ecef;
        color: #007bff;
    }
    .sidebar-menu .collapse .nav-link {
        padding-left: 2rem;
        font-weight: 400;
    }
    .arrow {
        font-size: 1rem;
        transition: transform 0.2s;
    }
    .collapsed .arrow {
        transform: rotate(-90deg);
    }
</style>

<div class="d-flex">
    <nav class="sidebar-menu">
        <ul class="nav flex-column">
            <li class="nav-item">
                <a class="nav-link collapsed" data-bs-toggle="collapse" href="#adminMenu" role="button" aria-expanded="false" aria-controls="adminMenu">
                    <span>Admin</span>
                    <span class="arrow">&#9654;</span>
                </a>
                <div class="collapse" id="adminMenu">
                    <ul class="nav flex-column">
                        <li class="nav-item"><a class="nav-link" href="#">Center Manage</a></li>
                        <li class="nav-item"><a class="nav-link" href="#">Role Manage</a></li>
                        <li class="nav-item"><a class="nav-link" href="#">Menu Manage</a></li>
                        <li class="nav-item"><a class="nav-link" href="#">Bill Manage</a></li>
                    </ul>
                </div>
            </li>
            <li class="nav-item">
                <a class="nav-link collapsed" data-bs-toggle="collapse" href="#masterMenu" role="button" aria-expanded="false" aria-controls="masterMenu">
                    <span>Master</span>
                    <span class="arrow">&#9654;</span>
                </a>
                <div class="collapse" id="masterMenu">
                    <ul class="nav flex-column">
                        <li class="nav-item"><a class="nav-link" href="#">Food Menu</a></li>
                        <li class="nav-item"><a class="nav-link" href="#">Category</a></li>
                        <li class="nav-item"><a class="nav-link" href="#">User Master</a></li>
                    </ul>
                </div>
            </li>
            <li class="nav-item">
                <a class="nav-link collapsed" data-bs-toggle="collapse" href="#billingMenu" role="button" aria-expanded="false" aria-controls="billingMenu">
                    <span>Billing</span>
                    <span class="arrow">&#9654;</span>
                </a>
                <div class="collapse" id="billingMenu">
                    <ul class="nav flex-column">
                        <li class="nav-item"><a class="nav-link" href="#">Restaurent Bill</a></li>
                        <li class="nav-item"><a class="nav-link" href="#">Table Booking</a></li>
                        <li class="nav-item"><a class="nav-link" href="#">Waiter Manage</a></li>
                        <li class="nav-item"><a class="nav-link" href="#">KOT</a></li>
                    </ul>
                </div>
            </li>
            <li class="nav-item">
                <a class="nav-link collapsed" data-bs-toggle="collapse" href="#notificationMenu" role="button" aria-expanded="false" aria-controls="notificationMenu">
                    <span>Notification</span>
                    <span class="arrow">&#9654;</span>
                </a>
                <div class="collapse" id="notificationMenu">
                    <ul class="nav flex-column">
                        <li class="nav-item"><a class="nav-link" href="#">Email</a></li>
                    </ul>
                </div>
            </li>
            <li class="nav-item">
                <a class="nav-link collapsed" data-bs-toggle="collapse" href="#reportsMenu" role="button" aria-expanded="false" aria-controls="reportsMenu">
                    <span>Reports</span>
                    <span class="arrow">&#9654;</span>
                </a>
                <div class="collapse" id="reportsMenu">
                    <ul class="nav flex-column">
                        <li class="nav-item"><a class="nav-link" href="#">Daily Collection</a></li>
                        <li class="nav-item"><a class="nav-link" href="#">Monthly Collection</a></li>
                    </ul>
                </div>
            </li>
        </ul>
    </nav>
    <div class="flex-grow-1 p-4">
        <!-- Your main content goes here -->
        <nav aria-label="breadcrumb">
          <ol class="breadcrumb">
            <li class="breadcrumb-item"><a href="#">Home</a></li>
            <li class="breadcrumb-item"><a href="#">Restaurants</a></li>
            <li class="breadcrumb-item active" aria-current="page">Details</li>
          </ol>
        </nav>
        
        <table id="restaurantTable" class="display">
            <thead>
                <tr>
                    <th>Name</th>
                    <th>Cuisine</th>
                    <th>Location</th>
                </tr>
            </thead>
            <tbody>
                <!-- Sample data -->
                <tr>
                    <td>Spicy Villa</td>
                    <td>Indian</td>
                    <td>Mumbai</td>
                </tr>
            </tbody>
        </table>
        <script>
            $(document).ready(function () {
                $('#restaurantTable').DataTable();
            });
        </script>
        
        <input type="text" id="cuisineSearch" class="form-control" placeholder="Search Cuisine">
        <ul id="cuisineList" class="list-group"></ul>
        <script>
            const cuisines = ["Indian", "Chinese", "Italian", "Mexican"];
            $('#cuisineSearch').on('input', function () {
                let val = $(this).val().toLowerCase();
                let filtered = cuisines.filter(c => c.toLowerCase().includes(val));
                $('#cuisineList').empty();
                filtered.forEach(c => {
                    $('#cuisineList').append(`<li class="list-group-item">${c}</li>`);
                });
            });
        </script>
        
        <input type="text" id="reservationDate" class="form-control" placeholder="Select Date">
        <input type="text" id="reservationTime" class="form-control" placeholder="Select Time">
        <script>
            $(function () {
                $("#reservationDate").datepicker();
                $("#reservationTime").timepicker({
                    'timeFormat': 'h:i A',
                    'interval': 30,
                    'minTime': '10',
                    'maxTime': '11:00pm',
                    'startTime': '10:00',
                    'dynamic': false,
                    'dropdown': true,
                    'scrollbar': true
                });
            });
        </script>
    </div>
</div>

<script>
    // Toggle arrow direction on collapse show/hide
    document.querySelectorAll('.sidebar-menu .nav-link[data-bs-toggle="collapse"]').forEach(function(link) {
        link.addEventListener('click', function() {
            setTimeout(function() {
                link.classList.toggle('collapsed');
            }, 300);
        });
    });
</script>
